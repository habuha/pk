# 🚀 快速部署指南

## 📋 前置要求

1. **GitHub账户** - 用于托管代码和自动构建
2. **Android手机** - 用于测试APK文件
3. **基本Git知识** - 用于代码管理

## 🎯 一键部署步骤

### 第一步：Fork项目
1. 点击GitHub页面右上角的"Fork"按钮
2. 选择你的GitHub账户
3. 等待Fork完成

### 第二步：推送代码
```bash
# 克隆你的Fork仓库
git clone https://github.com/habuha/pk.git
cd pk

# 确保在main分支
git checkout main

# 推送代码（这会触发自动构建）
git push origin main
```

### 第三步：查看构建进度
1. 在你的GitHub仓库页面
2. 点击"Actions"标签
3. 查看"Build APK (Simplified)"工作流
4. 等待构建完成（约15-20分钟）

### 第四步：下载APK
1. 构建完成后，点击工作流
2. 在"Artifacts"部分下载"funapp-debug"
3. 解压得到APK文件

## 🔧 常见问题解决

### 构建失败问题

#### 1. SDK版本错误
**错误信息**: `SDK version not found`
**解决方案**: 工作流已配置正确的SDK版本（API 31）

#### 2. NDK版本错误
**错误信息**: `NDK version not found`
**解决方案**: 工作流已配置正确的NDK版本（23.1.7779620）

#### 3. 依赖冲突
**错误信息**: `Cython version conflict`
**解决方案**: 使用requirements.txt中的精确版本

#### 4. 权限问题
**错误信息**: `Permission denied`
**解决方案**: 确保GitHub Actions有足够权限

### 运行时问题

#### 1. APK安装失败
**解决方案**:
- 启用"未知来源"应用安装
- 确保Android版本≥5.0
- 检查存储空间是否充足

#### 2. 应用闪退
**解决方案**:
- 检查Android版本兼容性
- 重启手机后重试
- 清除应用数据

## 📱 安装步骤

### 在Android手机上安装

1. **启用开发者选项**
   - 设置 → 关于手机 → 版本号（点击7次）
   - 设置 → 开发者选项 → 启用

2. **允许未知来源应用**
   - 设置 → 安全 → 未知来源
   - 或者：设置 → 应用 → 特殊应用访问 → 安装未知应用

3. **安装APK**
   - 下载APK文件到手机
   - 点击APK文件
   - 点击"安装"
   - 等待安装完成

4. **运行游戏**
   - 在应用列表中找到"趣味小游戏"
   - 点击启动

## 🎮 游戏说明

### 游戏规则
- 点击红色按钮获得1-10分
- 每10分有连续点击奖励（5-20分）
- 实时显示游戏时间和得分
- 可随时重置游戏

### 操作说明
- **主按钮**: 点击获得分数
- **重置按钮**: 重新开始游戏
- **自动计时**: 显示游戏进行时间

## 🔄 更新应用

### 修改代码后重新构建
```bash
# 修改代码
git add .
git commit -m "更新游戏功能"
git push origin main

# 自动触发构建
# 等待15-20分钟后下载新APK
```

### 自定义修改建议
- **修改游戏逻辑**: 编辑`main.py`
- **修改应用信息**: 编辑`buildozer.spec`
- **修改构建配置**: 编辑`.github/workflows/build-apk-simple.yml`

## 📊 构建状态监控

### 成功构建标志
- ✅ 所有步骤显示绿色勾号
- 📦 Artifacts部分显示APK文件
- 🎯 工作流状态显示"Success"

### 失败构建标志
- ❌ 某个步骤显示红色叉号
- 📝 查看具体错误信息
- 🔄 修复问题后重新推送代码

## 🆘 获取帮助

### 查看构建日志
1. 点击失败的构建步骤
2. 查看详细错误信息
3. 根据错误信息修复问题

### 常见错误代码
- `exit code 1`: 一般性错误，查看具体步骤
- `exit code 2`: 依赖问题，检查requirements.txt
- `exit code 127`: 命令未找到，检查环境配置

### 联系支持
- 提交GitHub Issue
- 描述具体错误信息
- 附上构建日志截图

---

**💡 提示**: 首次构建可能需要较长时间，请耐心等待。构建成功后，后续构建会更快。
